(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4502],{9641:function(e,t,s){Promise.resolve().then(s.bind(s,6492))},3361:function(e,t,s){"use strict";s.r(t),s.d(t,{downloadImage:function(){return l},downloadPDf:function(){return r},parseBlobToURL:function(){return a}});let l=(e,t)=>{let s=atob(e.split(",")[1]),l=new ArrayBuffer(s.length),r=new Uint8Array(l);for(let e=0;e<s.length;e++)r[e]=s.charCodeAt(e);let a=new Blob([l],{type:"image/jpeg"}),n=URL.createObjectURL(a),c=document.createElement("a");c.href=n,c.download="".concat(t,".jpg"),document.body.appendChild(c),c.click(),document.body.removeChild(c)},r=(e,t)=>{let s=atob(e.split(",")[1]),l=new ArrayBuffer(s.length),r=new Uint8Array(l);for(let e=0;e<s.length;e++)r[e]=s.charCodeAt(e);let a=new Blob([l],{type:"application/pdf"}),n=URL.createObjectURL(a),c=document.createElement("a");c.href=n,c.download="".concat(t,".pdf"),document.body.appendChild(c),c.click(),document.body.removeChild(c)},a=e=>{if(!e)return null;let t=atob(e.split(",")[1]),s=new ArrayBuffer(t.length),l=new Uint8Array(s);for(let e=0;e<t.length;e++)l[e]=t.charCodeAt(e);let r=new Blob([s],{type:"image/jpeg"}),a=URL.createObjectURL(r);return a}},5464:function(e,t,s){"use strict";s.r(t),s.d(t,{toRupiah:function(){return l}});let l=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e)},3911:function(e,t,s){"use strict";s.r(t),s.d(t,{getRequestedData:function(){return r},requestCounter:function(){return l}});let l=e=>{let t=e.filter(e=>!e.approval);return t.length},r=e=>{let t=e.filter(e=>!e.approval);return t}},581:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let l=s(7437),r=s(2265),a=s(5464);e.exports=e=>{let{isOpen:t,onClose:s,catalogId:n}=e,[c,i]=(0,r.useState)({user:"Loading...",image:"",title:"Loading...",price:"Loading...",tag:["Loading..."],contact:"Loading...",details:"Loading...",approval:!0}),o=async()=>{try{let e=await fetch("/api/admin/katalog/".concat(n)),t=await e.json();t.katalog&&i(t.katalog)}catch(e){console.error(e)}};return((0,r.useEffect)(()=>{o()},[t]),t)?(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-slate-800/25 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"bg-slate-50 w-3/5 min-h-[35rem] shadow-lg space-y-28 rounded-lg px-5 py-16 font-montserrat",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"w-[25%] font-semibold",children:"Email"}),(0,l.jsx)("p",{className:"w-[75%] px-3 py-2 bg-slate-200 rounded-lg",children:c.user})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"w-[25%] font-semibold",children:"Produk"}),(0,l.jsx)("p",{className:"w-[75%] px-3 py-2 bg-slate-200 rounded-lg",children:c.title})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"w-[25%] font-semibold",children:"Harga"}),(0,l.jsx)("p",{className:"w-[75%] px-3 py-2 bg-slate-200 rounded-lg",children:(0,a.toRupiah)(c.price)})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"w-[25%] font-semibold",children:"Tag"}),(0,l.jsx)("p",{className:"w-[75%] px-3 py-2 bg-slate-200 rounded-lg",children:c.tag})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"w-[25%] font-semibold",children:"Kontak"}),(0,l.jsx)("p",{className:"w-[75%] px-3 py-2 bg-slate-200 rounded-lg",children:c.contact})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"w-[25%] font-semibold",children:"Detail"}),(0,l.jsx)("p",{className:"w-[75%] px-3 py-2 bg-slate-200 rounded-lg",children:c.details})]})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{onClick:s,className:"bg-zinc-800 px-5 py-1 text-lg text-slate-200 hover:bg-transparent hover:text-zinc-800 hover:outline hover:outline-2 hover:outline-zinc-800 transition-colors",children:"OK"})})]})}):null}},5602:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let l=s(7437),r=s(8920),a=s(3361);e.exports=e=>{let{isOpen:t,onClose:s,src:n}=e,{currImageOpen:c,currImageTitle:i}=n;return t?(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-slate-800/25 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"bg-slate-50 w-2/5 min-h-[43rem] shadow-lg space-y-8 rounded-lg px-5",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-between items-center mt-1",children:[(0,l.jsx)("h1",{className:" w-3/4 line-clamp-1",children:i}),(0,l.jsx)("button",{onClick:s,children:(0,l.jsx)(r.FiX,{size:20})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)("div",{className:"w-3/4 aspect-square ".concat(c?"":"animate-pulse bg-slate-300"),children:(0,l.jsx)("img",{src:c})}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{disabled:!0,className:"cursor-not-allowed px-4 py-1 bg-zinc-800 text-slate-200 font-montserrat text-xl hover:outline hover:outline-2 hover:bg-transparent hover:outline-zinc-800 hover:text-zinc-800 transition-colors",children:"View"}),(0,l.jsx)("button",{onClick:()=>{(0,a.downloadImage)(c,i)},className:"px-4 py-1 bg-zinc-800 text-slate-200 font-montserrat text-xl hover:outline hover:outline-2 hover:bg-transparent hover:outline-zinc-800 hover:text-zinc-800 transition-colors",children:"Download"})]})]})]})}):null}},2745:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let l=s(1024),r=s(7437),a=s(8920),n=s(6820),c=s(2265),i=s(5464),o=s(3361),d=l._(s(9449));e.exports=e=>{let{isOpen:t,onClose:s,requests:l}=e,[x,h]=(0,c.useState)(!1),[m,p]=(0,c.useState)(""),u=e=>{let t=(0,o.parseBlobToURL)(e);window.open(t,"_blank")},b=async(e,t)=>{try{let s=await fetch("/api/katalog/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});await s.json(),window.location.reload()}catch(e){console.error(e)}},j=e=>{b({approval:!0},e)};return t?(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-slate-800/25 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-slate-50 w-[98%] min-h-[40rem] shadow-lg space-y-28 rounded-lg px-5 py-5 font-montserrat",children:[(0,r.jsx)("div",{className:"flex flex-row justify-end items-center",children:(0,r.jsx)("button",{onClick:s,children:(0,r.jsx)(a.FiX,{size:20})})}),(0,r.jsxs)("table",{className:"w-full border-collapse border border-zinc-800 text-left table-fixed",children:[(0,r.jsx)("thead",{className:"font-montserrat text-xs md:text-sm",children:(0,r.jsxs)("tr",{className:"border border-b border-zinc-800 bg-zinc-200",children:[(0,r.jsx)("th",{className:"py-2 pl-4",children:"Email"}),(0,r.jsx)("th",{className:"py-2",children:"Nama"}),(0,r.jsx)("th",{className:"py-2",children:"Harga"}),(0,r.jsx)("th",{className:"py-2",children:"Kategori"}),(0,r.jsx)("th",{className:"py-2",children:"Detail"}),(0,r.jsx)("th",{className:"py-2",children:"Gambar"}),(0,r.jsx)("th",{className:"py-2",children:"Kontak"}),(0,r.jsx)("th",{className:"py-2"})]})}),(0,r.jsx)("tbody",{className:"text-sm font-montserrat text-zinc-600",children:l.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-4 pl-4 border-b border-zinc-800",children:(0,r.jsx)("div",{className:"pr-2",children:(0,r.jsx)("p",{children:e.user})})}),(0,r.jsx)("td",{className:"py-4 border-b border-zinc-800",children:(0,r.jsx)("div",{className:"pr-2",children:(0,r.jsx)("p",{children:e.title})})}),(0,r.jsx)("td",{className:"py-4 border-b border-zinc-800",children:(0,r.jsx)("div",{className:"pr-2",children:(0,r.jsx)("p",{children:(0,i.toRupiah)(e.price)})})}),(0,r.jsx)("td",{className:"py-4 border-b border-zinc-800",children:(0,r.jsx)("div",{className:"pr-2",children:(0,r.jsx)("p",{children:e.tag})})}),(0,r.jsx)("td",{className:"py-4 border-b border-zinc-800",children:(0,r.jsx)("div",{className:"pr-2",children:(0,r.jsx)("p",{children:e.details})})}),(0,r.jsx)("td",{className:"py-4 border-b border-zinc-800",children:(0,r.jsx)("div",{className:"pr-2",children:(0,r.jsxs)("button",{onClick:()=>u(e.image),className:"flex gap-1 items-center",children:[(0,r.jsx)(n.BiSolidFileJpg,{size:20}),(0,r.jsx)("p",{className:"line-clamp-1 text-amber-400 hover:underline italic",children:e.title})]})})}),(0,r.jsx)("td",{className:"py-4 border-b border-zinc-800",children:(0,r.jsx)("div",{className:"pr-2",children:(0,r.jsx)("p",{children:e.contact})})}),(0,r.jsx)("td",{className:"py-4 border-b border-zinc-800",children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>{j(e._id)},title:"accept",className:"bg-green-500 hover:bg-green-600 p-1 rounded-md text-slate-200",children:(0,r.jsx)(n.BiSolidUserCheck,{size:20})}),(0,r.jsx)("button",{onClick:()=>{p(e._id),h(!0)},className:"bg-red-500 hover:bg-red-600 p-1 rounded-md text-slate-200",children:(0,r.jsx)(n.BiTrash,{size:20})})]})})]},t))})]}),(0,r.jsx)(d.default,{onClose:()=>h(!1),isOpen:x,endpoint:"katalog",index:m})]})}):null}},9449:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let l=s(7437),r=s(4033);e.exports=e=>{let{isOpen:t,onClose:s,endpoint:a,index:n}=e;if(!t)return null;(0,r.useRouter)();let c=async()=>{try{await fetch("/api/".concat(a,"/").concat(n),{method:"DELETE"}),window.location.reload()}catch(e){console.error(e)}};return(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-slate-800/25 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"bg-slate-50 font-montserrat w-2/5 justify-between flex flex-col min-h-[16rem] shadow-lg py-10 rounded-lg px-5",children:[(0,l.jsx)("p",{className:"text-center font-bold text-2xl",children:"Delete Items?"}),(0,l.jsxs)("div",{className:"flex gap-5 justify-end",children:[(0,l.jsx)("button",{onClick:s,className:" hover:bg-slate-200 transition-colors px-5 py-2.5 ",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{c(),s()},className:"bg-zinc-800 text-slate-200 px-5 py-2.5 hover:outline hover:outline-2 hover:outline-zinc-800 hover:text-zinc-800 hover:bg-transparent transition-colors ",children:"Delete"})]})]})})}},6492:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var l=s(7437),r=s(2265),a=s(9150),n=s(5602),c=s.n(n),i=s(9449),o=s.n(i),d=s(2745),x=s.n(d),h=s(581),m=s.n(h),p=s(5464),u=s(3911);function b(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(!1),[h,b]=(0,r.useState)(!1),[j,f]=(0,r.useState)(""),[N,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[w,z]=(0,r.useState)([]),[k,C]=(0,r.useState)([{_id:"",title:"Loading...",tag:["Loading..."],price:0,contact:"Loading...",image:"",approval:!0,createdAt:"Loading..."}]),_=async()=>{try{let e=await fetch("/api/admin/katalog"),t=await e.json();t.katalogs&&(C(t.katalogs),z((0,u.getRequestedData)(t.katalogs)))}catch(e){console.error(e)}};return(0,r.useEffect)(()=>{_()},[]),(0,l.jsxs)("section",{className:"space-y-10",children:[(0,l.jsx)("h1",{className:"font-montserrat text-2xl md:text-4xl font-bold pt-16",children:"My Catalog"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsxs)("button",{onClick:()=>b(!0),className:"font-montserrat bg-zinc-800 text-slate-200 px-4 py-2 hover:bg-transparent hover:text-zinc-800 hover:outline hover:outline-2 hover:outline-zinc-800 transi duration-200",children:["Review (",w.length,")"]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("table",{className:"w-full border-collapse border border-zinc-800 text-left table-fixed",children:[(0,l.jsx)("thead",{className:"font-montserrat text-xs md:text-sm",children:(0,l.jsxs)("tr",{className:"border border-b border-zinc-800 bg-zinc-200",children:[(0,l.jsx)("th",{className:"py-2 pl-4",children:"Name"}),(0,l.jsx)("th",{className:"py-2 line-clamp-1",children:"Category"}),(0,l.jsx)("th",{className:"py-2",children:"Price"}),(0,l.jsx)("th",{className:"py-2",children:"Contact"}),(0,l.jsx)("th",{className:"py-2",children:"Created At"}),(0,l.jsx)("th",{className:"py-2",children:"Picture"}),(0,l.jsx)("th",{className:"py-2"})]})}),(0,l.jsx)("tbody",{className:"text-sm font-montserrat text-zinc-600",children:k.map((e,s)=>e.approval?(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-4 pl-4 border-b border-zinc-800",children:(0,l.jsx)("p",{className:"line-clamp-1",children:e.title})}),(0,l.jsx)("td",{className:"border-b border-zinc-800",children:(0,l.jsx)("p",{className:"line-clamp-1",children:e.tag})}),(0,l.jsx)("td",{className:"border-b border-zinc-800",children:(0,l.jsx)("p",{className:"line-clamp-1",children:(0,p.toRupiah)(e.price)})}),(0,l.jsx)("td",{className:"border-b border-zinc-800",children:(0,l.jsx)("p",{className:"line-clamp-2",children:e.contact})}),(0,l.jsx)("td",{className:"border-b border-zinc-800",children:(0,l.jsx)("p",{className:"line-clamp-2",children:new Date(e.createdAt).toLocaleString("en-UK")})}),(0,l.jsx)("td",{className:"border-b border-zinc-800",children:(0,l.jsx)("div",{className:"flex flex-row items-center gap-3",children:(0,l.jsx)("button",{onClick:()=>{v(e.title),g(e.image),t(!0)},children:(0,l.jsx)(a.Ehc,{title:"view PDF",size:25,className:"hover:text-blue-400"})})})}),(0,l.jsx)("td",{className:"border-b border-zinc-800",children:(0,l.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,l.jsx)("button",{onClick:()=>{f(e._id),n(!0)},children:(0,l.jsx)(a.Zju,{size:25,title:"view",className:"hover:text-blue-400"})}),(0,l.jsx)("button",{className:"cursor-not-allowed text-slate-300",disabled:!0,children:(0,l.jsx)(a.lFz,{size:25,title:"edit"})}),(0,l.jsx)("button",{onClick:()=>{f(e._id),d(!0)},children:(0,l.jsx)(a.VPh,{size:25,title:"delete",className:"hover:text-red-400"})})]})})]},s):null)})]}),(0,l.jsx)(c(),{src:{currImageOpen:N,currImageTitle:y},isOpen:e,onClose:()=>t(!1)}),(0,l.jsx)(x(),{requests:w,isOpen:h,onClose:()=>b(!1)}),(0,l.jsx)(m(),{isOpen:s,onClose:()=>n(!1),catalogId:j}),(0,l.jsx)(o(),{endpoint:"katalog",index:j,onClose:()=>d(!1),isOpen:i})]})]})]})}},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=s(2265),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,s){var l,a={},o=null,d=null;for(l in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,l)&&!i.hasOwnProperty(l)&&(a[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===a[l]&&(a[l]=t[l]);return{$$typeof:r,type:e,key:o,ref:d,props:a,_owner:c.current}}t.Fragment=a,t.jsx=o,t.jsxs=o},7437:function(e,t,s){"use strict";e.exports=s(622)},4033:function(e,t,s){e.exports=s(8165)}},function(e){e.O(0,[3712,6115,8920,2971,596,1744],function(){return e(e.s=9641)}),_N_E=e.O()}]);