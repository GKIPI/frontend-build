(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{2158:function(e,l,r){Promise.resolve().then(r.bind(r,4831))},4831:function(e,l,r){"use strict";r.r(l),r.d(l,{default:function(){return o}});var t=r(7437),s=r(1396),a=r.n(s),n=r(8920),d=r(2265),i=r(2749);function o(){let[e,l]=(0,d.useState)(null),{data:r,status:s}=(0,i.useSession)(),[o,c]=(0,d.useState)({user:"loading...",jobTitle:"loading...",skills:"loading...",name:"loading...",notes:"loading..."});(0,d.useEffect)(()=>{var e;"authenticated"===s&&(null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.email)&&fetch("/api/user/seeker/".concat(r.user.email)).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{c(e.seekers[0])}).catch(e=>{console.error("Error fetching data:",e)})},[r,s]),(0,d.useEffect)(()=>{e&&fetch("/api/seeker",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{c(e)}).catch(e=>{console.error("Error fetching data:",e)})},[e]);let[u,x]=(0,d.useState)(""),[b,m]=(0,d.useState)(""),[f,g]=(0,d.useState)(""),[h,w]=(0,d.useState)(""),[p,j]=(0,d.useState)(""),[v,y]=(0,d.useState)(""),[N,k]=(0,d.useState)(""),[S,C]=(0,d.useState)(""),[T,E]=(0,d.useState)(!1),[A,F]=(0,d.useState)(!1);return(0,t.jsxs)("div",{className:"min-h-screen min-w-screen",children:[(0,t.jsx)("div",{className:"absolute h-[40px] w-[40px] rounded-full m-3 hover:bg-primary hover:text-white",children:(0,t.jsx)(a(),{href:"/user",children:(0,t.jsx)(n.FiArrowLeft,{className:"h-8 md:h-10 w-max"})})}),(0,t.jsxs)("div",{className:"lg:flex w-screen min-h-screen",children:[(0,t.jsx)("div",{className:"lg:w-[50%] ",children:(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!p||!u||!b||!f||!h||!v||!N||!S){E(!0);return}let t=document.querySelector('input[type="file"]'),s="";if(t.files.length>0){let e=new FileReader;e.onload=e=>{s=e.target.result;let t={user:r.user.email,jobTitle:p,name:u,sex:b,education:f,age:h,skills:v,tag:[N,S],image:s};l(t)},e.readAsDataURL(t.files[0])}window.location.reload()},className:"bg-tertiary lg:w-full p-5 flex flex-col justify-center",children:[(0,t.jsx)("h1",{className:"font-bold text-[3rem] px-4 self-center",children:"Upload your CV here!"}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2 ",children:["Job Title:",(0,t.jsx)("input",{className:"border-2 border-black w-[50%] p-1 rounded-lg",type:"text",value:p,onChange:e=>j(e.target.value)})]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Name:",(0,t.jsx)("input",{className:"border-2 border-black w-[50%] p-1 rounded-lg",type:"text",value:u,onChange:e=>x(e.target.value)})]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Sex:",(0,t.jsxs)("select",{className:"border-2 border-black w-[50%] p-1 rounded-lg",value:b,onChange:e=>{m(e.target.value)},children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Select a Tag"}),["Male","Female"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),"                        "]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Education:",(0,t.jsx)("input",{className:"border-2 border-black w-[50%] p-1 rounded-lg",type:"text",value:f,onChange:e=>g(e.target.value)})]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Age:",(0,t.jsx)("input",{className:"border-2 border-black w-[50%] p-1 rounded-lg",type:"number",value:h,onChange:e=>w(e.target.value)})]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Skills (comma-separated):",(0,t.jsx)("input",{className:"border-2 border-black w-[50%] p-1 rounded-lg",type:"text",value:v,onChange:e=>y(e.target.value)})]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Upload Image:",(0,t.jsx)("input",{className:"w-[50%] p-1",type:"file",accept:"image/*"})]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Industry tag:",(0,t.jsxs)("select",{className:"border-2 border-black w-[50%] p-1 rounded-lg",value:N,onChange:e=>{k(e.target.value)},children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Select a Tag"}),["Industrial / Manufacturing","Insurance","FMCG","Media & Agency","Financial Service","Property","Retail"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("label",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Title tag:",(0,t.jsxs)("select",{className:"border-2 border-black w-[50%] p-1 rounded-lg",value:S,onChange:e=>C(e.target.value),children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Select a Tag"}),["Staff","Supervisor","Manager","General Manager","Director"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),T?(0,t.jsx)("div",{className:"text-red-600 text-xs",children:"*Lengkapi data anda!"}):null,(0,t.jsx)("button",{className:" ".concat(T?"bg-red-600":"bg-black border-primary hover:text-primary border-2 hover:bg-white"," bg-black text-white text-center py-4 rounded-md my-2 self-end w-[25%] "),type:"submit",children:"Submit"})]})}),(0,t.jsx)("div",{className:"lg:w-[50%] h-max p-5 flex flex-col",children:(0,t.jsx)("div",{className:"max-w-full h-full p-4",style:{borderRadius:"10px",background:"#FAFAFA",boxShadow:"0px 4px 4px 0px rgba(0, 0, 0, 0.25) inset"},children:(0,t.jsxs)("div",{className:"h-[80vh]",children:[(0,t.jsx)("h1",{className:"font-bold text-[3rem] px-4 self-center",children:"Preview Your CV"}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Name :",(0,t.jsx)("div",{children:(null==o?void 0:o.name)?o.name:null})]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Age :",(0,t.jsx)("div",{children:(null==o?void 0:o.age)?o.age:null})]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Job Title :",(0,t.jsx)("div",{children:(null==o?void 0:o.jobTitle)?o.jobTitle:null})]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Education :",(0,t.jsx)("div",{children:(null==o?void 0:o.education)?o.education:null})]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Skills :",(0,t.jsx)("div",{children:(null==o?void 0:o.skills)?o.skills:null})]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["CV :",(0,t.jsx)("div",{}),(null==o?void 0:o.image)?(0,t.jsx)("button",{onClick:()=>F(!0),className:"bg-primary text-white px-4 py-2 rounded-md hover:text-primary border-2 border-primary hover:bg-white",children:"View"}):null]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Industrial Tag :",(0,t.jsx)("div",{children:(null==o?void 0:o.tag)?o.tag[0]:null})]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Title Tag :",(0,t.jsx)("div",{children:(null==o?void 0:o.tag)?o.tag[1]:null})]}),(0,t.jsxs)("div",{className:"border-2 p-3 w-full border-black flex flex-row justify-between text-lg items-center rounded-lg my-2",children:["Sex :",(0,t.jsx)("div",{children:(null==o?void 0:o.sex)?o.sex:null})]})]})})})]}),(0,t.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center ".concat(A?"visible":"invisible"),style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,t.jsx)("img",{src:null==o?void 0:o.image,alt:"CV Preview",className:"max-h-[80vh] max-w-[80vw]"}),(0,t.jsx)("button",{className:"bg-primary text-white px-4 py-2 rounded-md hover:text-primary border-2 border-primary hover:bg-white mt-4",onClick:()=>F(!1),children:"Close"})]})})]})}}},function(e){e.O(0,[685,749,791,971,596,744],function(){return e(e.s=2158)}),_N_E=e.O()}]);